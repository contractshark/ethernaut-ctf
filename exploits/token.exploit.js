const TokenContract = artifacts.require('Token')
const assert = require('assert')

async function execute(callback) {
    /**
     * Token contract allows to transfer negative values.
     */

    let contract = await TokenContract.deployed()
    
    let fromAccount = web3.eth.accounts[0]
    let toAccount = web3.eth.accounts[1]

    let balance = await contract.balanceOf(fromAccount)
    assert.equal(balance, 20)
    console.log(`Initial balance: ${balance}`)

    await contract.transfer(toAccount, -200, {
        from: fromAccount
    })

    balance = await contract.balanceOf(fromAccount)
    assert.equal(balance, 220)
    console.log(`Final balance: ${balance}`)

}

module.exports = execute
